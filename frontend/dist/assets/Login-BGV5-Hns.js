import{r as t,u as p,j as e,S as h,I as o,B as f,a as j,t as g}from"./index-Og0Cjv7c.js";import{C as y,a as w,b as N,c as S,d as v,e as C}from"./card-DKR6wQjg.js";import{L as d}from"./label-D4adTHT0.js";import{L}from"./loader-circle-qKgIXUvm.js";import{L as b}from"./log-in-B6QnFzFx.js";function F(){const[n,c]=t.useState(""),[i,m]=t.useState(""),[r,l]=t.useState(!1),u=p();async function x(a){a.preventDefault(),l(!0);try{const s=await j.post("/api/admin/login",{username:n,password:i});localStorage.setItem("admin_token",s.token),localStorage.setItem("admin_refresh_token",s.refresh_token),localStorage.setItem("admin_role",s.role||"admin"),u("/")}catch(s){g.error(s instanceof Error?s.message:"Login failed")}finally{l(!1)}}return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dd-50",children:e.jsxs(y,{className:"w-full max-w-sm mx-4",children:[e.jsxs(w,{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(h,{className:"h-6 w-6 text-dd-red"}),e.jsx(N,{className:"text-2xl",children:"DasherHelp"})]}),e.jsx(S,{children:"Admin Panel"})]}),e.jsxs("form",{onSubmit:x,children:[e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"username",children:"Username"}),e.jsx(o,{id:"username",type:"text",value:n,onChange:a=>c(a.target.value),placeholder:"Enter your username",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"password",children:"Password"}),e.jsx(o,{id:"password",type:"password",value:i,onChange:a=>m(a.target.value),placeholder:"Enter your password",required:!0})]})]}),e.jsx(C,{children:e.jsxs(f,{type:"submit",className:"w-full",disabled:r,children:[r?e.jsx(L,{className:"animate-spin"}):e.jsx(b,{}),r?"Signing in...":"Sign In"]})})]})]})})}export{F as default};
