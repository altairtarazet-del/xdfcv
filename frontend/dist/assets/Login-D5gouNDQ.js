import{r,u as p,j as e,I as n,B as h,a as f,t as j}from"./index-Og0Cjv7c.js";import{C as g,a as N,b as w,c as y,d as v,e as C}from"./card-DKR6wQjg.js";import{L as d}from"./label-D4adTHT0.js";import{M as b}from"./mail-COINtWyb.js";import{L}from"./loader-circle-qKgIXUvm.js";import{L as S}from"./log-in-B6QnFzFx.js";function F(){const[l,c]=r.useState(""),[o,m]=r.useState(""),[t,i]=r.useState(!1),u=p();async function x(s){s.preventDefault(),i(!0);try{const a=await f.post("/api/portal/login",{email:l,password:o});localStorage.setItem("portal_token",a.token),localStorage.setItem("portal_refresh_token",a.refresh_token),u("/")}catch(a){j.error(a instanceof Error?a.message:"Login failed")}finally{i(!1)}}return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dd-50",children:e.jsxs(g,{className:"w-full max-w-sm",children:[e.jsxs(N,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-xl bg-dd-red",children:e.jsx("span",{className:"text-xl font-bold text-white",children:"D"})}),e.jsx(w,{className:"text-xl",children:"DasherHelp"}),e.jsx(y,{children:"Customer Portal"})]}),e.jsxs("form",{onSubmit:x,children:[e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(n,{id:"email",type:"email",placeholder:"your@email.com",value:l,onChange:s=>c(s.target.value),className:"pl-9",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"password",children:"Password"}),e.jsx(n,{id:"password",type:"password",placeholder:"Enter your password",value:o,onChange:s=>m(s.target.value),required:!0})]})]}),e.jsx(C,{children:e.jsxs(h,{type:"submit",className:"w-full",disabled:t,children:[t?e.jsx(L,{className:"animate-spin"}):e.jsx(S,{}),t?"Signing in...":"Sign In"]})})]})]})})}export{F as default};
